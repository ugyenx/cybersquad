<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CyberSquad</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Audiowide&family=VT323&family=Rajdhani:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="retro-animated-bg">
      <div class="background-image-layer">
        <img
          id="messi-bg-image"
          src="assests/messi.jpg"
          alt="Background Image"
          onerror="this.onerror=null; this.src='https://placehold.co/1920x1080/000000/cc00ff?text=Error+Loading+Background'; console.error('Error loading background image from specified URL.')"
        />
      </div>
      <div class="stars-overlay"></div>
      <div class="grid-overlay"></div>
    </div>
    <header>
      <h1>CyberSquad</h1>
      <nav>
        <button data-tab="register-player-section" class="active-tab">
          Register Player
        </button>
        <button data-tab="select-players-section">Select Players</button>
        <button data-tab="divide-teams-section">Divide Teams</button>
      </nav>
    </header>

    <main>
      <!-- Player Registration Section -->
      <section id="register-player-section" class="tab-content active">
        <h2 class="section-title">// Player Databank //</h2>
        <div class="form-container scanline-overlay">
          <form id="player-form">
            <input type="hidden" id="editing-player-id" />
            <div class="form-grid">
              <div class="form-group">
                <label for="player-name">Agent Name</label>
                <input type="text" id="player-name" required />
              </div>
              <div class="form-group">
                <label for="player-position">Role</label>
                <select id="player-position">
                  <!-- Options will be populated by JS -->
                </select>
              </div>
              <!-- Player Image Upload -->
              <div class="form-group">
                <label for="player-image-input">Agent Scan</label>
                <input type="file" id="player-image-input" accept="image/*" />
                <img id="player-image-preview" src="#" alt="Agent Preview" />
              </div>
              <!-- End Player Image Upload -->
              <div class="form-group">
                <label for="stat-speed"
                  >SPD
                  <span class="stat-value" id="speed-value">50</span></label
                >
                <input
                  type="range"
                  id="stat-speed"
                  min="0"
                  max="99"
                  value="50"
                  data-stat="speed"
                />
              </div>
              <div class="form-group">
                <label for="stat-dribbling"
                  >DRB
                  <span class="stat-value" id="dribbling-value">50</span></label
                >
                <input
                  type="range"
                  id="stat-dribbling"
                  min="0"
                  max="99"
                  value="50"
                  data-stat="dribbling"
                />
              </div>
              <div class="form-group">
                <label for="stat-passing"
                  >PAS
                  <span class="stat-value" id="passing-value">50</span></label
                >
                <input
                  type="range"
                  id="stat-passing"
                  min="0"
                  max="99"
                  value="50"
                  data-stat="passing"
                />
              </div>
              <div class="form-group">
                <label for="stat-shooting"
                  >SHT
                  <span class="stat-value" id="shooting-value">50</span></label
                >
                <input
                  type="range"
                  id="stat-shooting"
                  min="0"
                  max="99"
                  value="50"
                  data-stat="shooting"
                />
              </div>
              <div class="form-group">
                <label for="stat-defense"
                  >DEF
                  <span class="stat-value" id="defense-value">50</span></label
                >
                <input
                  type="range"
                  id="stat-defense"
                  min="0"
                  max="99"
                  value="50"
                  data-stat="defense"
                />
              </div>
              <div class="form-group">
                <label for="stat-physical"
                  >PHY
                  <span class="stat-value" id="physical-value">50</span></label
                >
                <input
                  type="range"
                  id="stat-physical"
                  min="0"
                  max="99"
                  value="50"
                  data-stat="physical"
                />
              </div>
            </div>
            <div id="total-stat-sum">Total Matrix: 300</div>
            <div class="form-actions">
              <button type="submit" class="btn">Save Agent</button>
              <button
                type="button"
                id="clear-form-btn"
                class="btn btn-secondary"
              >
                Clear Input
              </button>
            </div>
          </form>
        </div>
      </section>

      <!-- Player Selection Section -->
      <section id="select-players-section" class="tab-content">
        <h2 class="section-title">// Assemble Squad //</h2>
        <div class="player-list-container">
          <div
            class="squad-assembly-controls"
            style="
              display: flex;
              justify-content: flex-end;
              align-items: center;
              margin-bottom: 1rem;
              padding-right: 10px;
            "
          >
            <input
              type="checkbox"
              id="select-all-players-checkbox"
              style="
                width: 20px;
                height: 20px;
                accent-color: var(--color-neon-cyan);
                cursor: pointer;
                margin-right: 8px;
              "
            />
            <label
              for="select-all-players-checkbox"
              id="select-all-label"
              style="
                font-family: var(--font-pixel);
                color: var(--color-neon-cyan);
                font-size: 1.2rem;
                cursor: pointer;
              "
              >SELECT ALL AGENTS</label
            >
          </div>
          <div id="registered-players-list" class="player-list">
            <p>No agents in the system. Access 'Player Databank' to recruit.</p>
          </div>
          <div style="text-align: center; margin-top: 1.5rem">
            <button id="divide-selected-players-btn" class="btn">
              Initiate Division Protocol
            </button>
          </div>
        </div>
      </section>

      <!-- Team Division Section -->
      <section id="divide-teams-section" class="tab-content">
        <h2 class="section-title">// Tactical Display //</h2>
        <div
          id="division-message-area"
          style="
            text-align: center;
            margin-bottom: 1rem;
            color: var(--color-neon-cyan);
            font-family: var(--font-pixel);
            font-size: 1.2rem;
          "
        ></div>
        <div class="teams-display-container">
          <div class="teams-container">
            <div class="team-panel" id="team-a-panel">
              <h3>Alpha Squad</h3>
              <div class="team-total-stat" id="team-a-total-stat">
                Power Level: 0
              </div>
              <div class="formation-controls">
                <label for="formation-team-a">Matrix:</label>
                <select id="formation-team-a" data-team="A"></select>
              </div>
              <div class="pitch" id="pitch-team-a" data-team="A"></div>
            </div>
            <div class="team-panel" id="team-b-panel">
              <h3>Omega Squad</h3>
              <div class="team-total-stat" id="team-b-total-stat">
                Power Level: 0
              </div>
              <div class="formation-controls">
                <label for="formation-team-b">Matrix:</label>
                <select id="formation-team-b" data-team="B"></select>
              </div>
              <div class="pitch" id="pitch-team-b" data-team="B"></div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <button id="reset-storage-btn" class="btn btn-secondary">
        System Reset
      </button>
      <p style="font-size: 0.8rem; margin-top: 0.5rem; opacity: 0.7">
        CyberSquad &copy; 2025 KUK Rocks
      </p>
    </footer>

    <div id="messageModal" class="modal">
      <div class="modal-content">
        <p id="modalMessageText"></p>
        <div class="modal-buttons-container">
          <button id="modalCloseBtn" class="btn">ROGER</button>
        </div>
      </div>
    </div>

    <script src="script.js" defer></script>
  </body>
</html>
